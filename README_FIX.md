# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–æ–±–ª–µ–º–∞

**–ü–æ—á–µ–º—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑—É:**

ChromaDB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite + HNSW –∏–Ω–¥–µ–∫—Å—ã. –ü—Ä–∏ **–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏** –ø–∞–ø–∫–∏ —Å –±–∞–∑–æ–π –∏–Ω–¥–µ–∫—Å—ã –ø–æ–≤—Ä–µ–∂–¥–∞—é—Ç—Å—è –∏–∑-–∑–∞:
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ Windows
- –ù–µ–∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –±–∏–Ω–∞—Ä–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
- –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è SQLite –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤

## –†–µ—à–µ–Ω–∏–µ

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±:

**–ü–ï–†–ï–ò–ú–ï–ù–û–í–ê–ù–ò–ï** –≤–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

```batch
ren "chroma_db_test" "chroma_db_–∫–æ—Å–º–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞"
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±:

```batch
xcopy "chroma_db_test" "chroma_db_–∫–æ—Å–º–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞" /E /I
# ‚ùå –≠—Ç–æ –°–õ–û–ú–ê–ï–¢ –∏–Ω–¥–µ–∫—Å—ã!
```

## –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```batch
fix_database.bat
```

–≠—Ç–æ:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç Python –ø—Ä–æ—Ü–µ—Å—Å—ã
2. –£–¥–∞–ª–∏—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—É—é –±–∞–∑—É `chroma_db_–∫–æ—Å–º–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞`
3. –ü–µ—Ä–µ–∏–º–µ–Ω—É–µ—Ç —Ä–∞–±–æ—á—É—é –±–∞–∑—É `chroma_db_test` ‚Üí `chroma_db_–∫–æ—Å–º–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞`

## –ü–æ—á–µ–º—É –±–∞–∑–∞ `chroma_db_test` –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è?

- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å `chunk_size=500` (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤)
- ‚úÖ 142,072 —á–∞–Ω–∫–æ–≤ (vs ~70,000 –≤ —Å—Ç–∞—Ä–æ–π –±–∞–∑–µ)
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∫–∞–∑–∞–ª–∏: –Ω–∞—Ö–æ–¥–∏—Ç –í–°–ï —Ç–µ—Ä–º–∏–Ω—ã (–ü–µ—Ä—É–Ω, –ü–∏—Ä–≤–∞, –§–∏—Ä–∞—Å—Ç –∏ –¥—Ä.)

## –°—Ç–∞—Ä–∞—è –±–∞–∑–∞ –±—ã–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è

- ‚ùå –°–æ–∑–¥–∞–Ω–∞ —Å `chunk_size=1000` (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –±–ª–æ–∫–∏)
- ‚ùå –¢–µ—Ä–º–∏–Ω—ã "—Ç–æ–Ω—É–ª–∏" –≤ –±–æ–ª—å—à–∏—Ö —á–∞–Ω–∫–∞—Ö
- ‚ùå MMR –Ω–µ –º–æ–≥ –Ω–∞–π—Ç–∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## –¢–µ–ø–µ—Ä—å –≤—Å—ë –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–ü–æ—Å–ª–µ `fix_database.bat`:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `start_rag.bat`
2. –ë–∞–∑–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è!)
3. –í—Å–µ —Ç–µ—Ä–º–∏–Ω—ã –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å—è —Ä–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ `rag_debug.log`:
- –ö–∞–∫–∞—è –ë–î –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –°–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞–π–¥–µ–Ω–æ
- –ß—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ LLM
- –û—Ç–≤–µ—Ç –æ—Ç LLM

---

**–¢–µ–ø–µ—Ä—å –±–∞–∑–∞ –Ω–µ –±—É–¥–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–∞—Ç—å—Å—è!** üéâ
